<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Intro to formr</title>
    <meta charset="utf-8" />
    <meta name="author" content="John Paul Helveston" />
    <meta name="date" content="2022-09-21" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/tile-view/tile-view.css" rel="stylesheet" />
    <script src="libs/tile-view/tile-view.js"></script>
    <link href="libs/panelset/panelset.css" rel="stylesheet" />
    <script src="libs/panelset/panelset.js"></script>
    <script src="libs/clipboard/clipboard.min.js"></script>
    <link href="libs/xaringanExtra-clipboard/xaringanExtra-clipboard.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-clipboard/xaringanExtra-clipboard.js"></script>
    <script>window.xaringanExtraClipboard(null, {"button":"Copy Code","success":"Copied!","error":"Press Ctrl+C to Copy"})</script>
    <link href="libs/shareon/shareon.min.css" rel="stylesheet" />
    <script src="libs/shareon/shareon.min.js"></script>
    <link href="libs/xaringanExtra-shareagain/shareagain.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-shareagain/shareagain.js"></script>
    <link href="libs/xaringanExtra-extra-styles/xaringanExtra-extra-styles.css" rel="stylesheet" />
    <meta name="description" content="EMSE 6035: Marketing Analytics for Design Decisions"/>
    <meta name="generator" content="xaringan and remark.js"/>
    <meta name="github-repo" content="emse-madd-gwu/2022-Fall"/>
    <meta name="twitter:title" content="Intro to formr"/>
    <meta name="twitter:description" content="EMSE 6035: Marketing Analytics for Design Decisions"/>
    <meta name="twitter:url" content="https://madd.seas.gwu.edu/2022-Fall/"/>
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:creator" content="@johnhelveston"/>
    <meta name="twitter:site" content="@johnhelveston"/>
    <meta property="og:title" content="Intro to formr"/>
    <meta property="og:description" content="EMSE 6035: Marketing Analytics for Design Decisions"/>
    <meta property="og:url" content="https://madd.seas.gwu.edu/2022-Fall/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:locale" content="en_US"/>
    <meta property="article:author" content="John Paul Helveston"/>
    <link href="libs/countdown/countdown.css" rel="stylesheet" />
    <script src="libs/countdown/countdown.js"></script>
    <link rel="stylesheet" href="css/lexis.css" type="text/css" />
    <link rel="stylesheet" href="css/lexis-fonts.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">




class: middle, inverse

.leftcol30[

&lt;center&gt;
&lt;img src="https://github.com/emse-madd-gwu/emse-madd-gwu.github.io/raw/master/images/logo.png" width=250&gt;
&lt;/center&gt;

]

.rightcol70[

# Week 4: .fancy[Intro to formr]

### <svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:white;overflow:visible;position:relative;"><path d="M243.4 2.587C251.4-.8625 260.6-.8625 268.6 2.587L492.6 98.59C506.6 104.6 514.4 119.6 511.3 134.4C508.3 149.3 495.2 159.1 479.1 160V168C479.1 181.3 469.3 192 455.1 192H55.1C42.74 192 31.1 181.3 31.1 168V160C16.81 159.1 3.708 149.3 .6528 134.4C-2.402 119.6 5.429 104.6 19.39 98.59L243.4 2.587zM256 128C273.7 128 288 113.7 288 96C288 78.33 273.7 64 256 64C238.3 64 224 78.33 224 96C224 113.7 238.3 128 256 128zM127.1 416H167.1V224H231.1V416H280V224H344V416H384V224H448V420.3C448.6 420.6 449.2 420.1 449.8 421.4L497.8 453.4C509.5 461.2 514.7 475.8 510.6 489.3C506.5 502.8 494.1 512 480 512H31.1C17.9 512 5.458 502.8 1.372 489.3C-2.715 475.8 2.515 461.2 14.25 453.4L62.25 421.4C62.82 420.1 63.41 420.6 63.1 420.3V224H127.1V416z"/></svg> EMSE 6035: Marketing Analytics for Design Decisions
### <svg aria-hidden="true" role="img" viewBox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:white;overflow:visible;position:relative;"><path d="M224 256c70.7 0 128-57.31 128-128s-57.3-128-128-128C153.3 0 96 57.31 96 128S153.3 256 224 256zM274.7 304H173.3C77.61 304 0 381.6 0 477.3c0 19.14 15.52 34.67 34.66 34.67h378.7C432.5 512 448 496.5 448 477.3C448 381.6 370.4 304 274.7 304z"/></svg> John Paul Helveston
### <svg aria-hidden="true" role="img" viewBox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:white;overflow:visible;position:relative;"><path d="M96 32C96 14.33 110.3 0 128 0C145.7 0 160 14.33 160 32V64H288V32C288 14.33 302.3 0 320 0C337.7 0 352 14.33 352 32V64H400C426.5 64 448 85.49 448 112V160H0V112C0 85.49 21.49 64 48 64H96V32zM448 464C448 490.5 426.5 512 400 512H48C21.49 512 0 490.5 0 464V192H448V464z"/></svg> September 21, 2022

]

---

class: inverse, middle

# .center[**Reminders**]

# Proposals due Sunday, 9/25 by midnight

--

# No class next week - team meetings instead

---



class: inverse, middle

# Week 4: .fancy[Intro to formr]

### 1. Surveys in R
### 2. Surveys in formr

### BREAK

### 3. Conjoint survey components

---



class: inverse, middle

# Week 4: .fancy[Intro to formr]

### 1. .orange[Surveys in R]
### 2. Surveys in formr

### BREAK

### 3. Conjoint survey components

---

class: center, middle 

# Start in RMarkdown

## See `demoSurvey.Rmd`

---

# Some Guidelines

- Use `---` to indicate new pages (this inserts a horizontal line)

--

- Be sure that any data / images are hosted somewhere on the web

--

- Consider each new page a **New R Session** (reload libraries, etc.)

---

# Embedding images 

I recommend just writing html code, like this


```html
&lt;img src="https://raw.githubusercontent.com/emse-madd-gwu/2022-Fall/main/images/logo.png" width=250&gt;
```

&lt;img src="https://raw.githubusercontent.com/emse-madd-gwu/2022-Fall/main/images/logo.png" width=250&gt;

---

# Centered image

I recommend just writing html code, like this


```html
&lt;center&gt;
&lt;img src="https://raw.githubusercontent.com/emse-madd-gwu/2022-Fall/main/images/logo.png" width=250&gt;
&lt;/center&gt;
```

&lt;center&gt;
&lt;img src="https://raw.githubusercontent.com/emse-madd-gwu/2022-Fall/main/images/logo.png" width=250&gt;
&lt;/center&gt;

---

# Check your urls carefully!

&lt;br&gt;

This is the link to the Github page with the class logo image: 

https://github.com/emse-madd-gwu/2022-Fall/blob/main/images/logo.png

This is the link to the actual image:

https://raw.githubusercontent.com/emse-madd-gwu/2022-Fall/main/images/logo.png

---

class: inverse

<div class="countdown" id="timer_632a1236" style="top:0;right:0;font-size:2em;" data-warnwhen="15">
<code class="countdown-time"><span class="countdown-digits minutes">15</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

## Your turn

- Open and edit the `practiceSurvey.Rmd` file.
- Pick a topic for your survey (a food, an animal, a sports team...whatever).
- Draft a survey about that topic. Include the following:
    - Page 1: A welcome message in large font ("Welcome to a survey about [topic]") and an image about the topic (find an image somewhere).
    - Page 2: Once simple multiple choice question about the topic (state the question and write the choice responses as bullets).
    - Page 3: Choose a data set from [this page](https://github.com/emse-eda-gwu/2022-Fall/tree/master/data) (pick a .csv file). Get the url to the .csv file you chose, read it in, and display only the first 6 rows of the data file (do not show any code - only the output of your code).
    - Page 4: Show the last 6 rows of the same data file (again, only the output - hide all code).
    
---



class: inverse, middle

# Week 4: .fancy[Intro to formr]

### 1. Surveys in R
### 2. .orange[Surveys in formr]

### BREAK

### 3. Conjoint survey components

---

# formr principles

&lt;br&gt;

## - Use _RMarkdown / html_ to create survey elements

## - Define surveys in _Google Sheets_

## - Import Google Sheets into formr _surveys_

## - Link surveys together in formr _runs_

---

class: middle, center

# [Demo survey](https://docs.google.com/spreadsheets/d/13jSdlIDFRVsIHbiObgyZlPTGovIcB-xDQ0dkhL75fZQ/edit?usp=sharing)

---

# .center[formr row types [(more here)](https://formr.org/documentation#available_items)]

Type | Description
-----|---------------------
`note` | Display content in `label` column 
`submit` | Next page button
`mc` | Multiple choice question (single choice) 
`mc_multiple` | Multiple choice question (multiple choices) 
`mc_button` | Multiple choice question (large buttons)
`select_one` | Drop down menu (choose one)
`text` | Open text, single row
`textarea` | Open text, block

---

# Two ways to define choice options 

.leftcol[
Add "choice" columns 

&lt;center&gt;
&lt;img src="images/choices.png" width=100%&gt;
&lt;/center&gt;
]

--

.rightcol[
Use `choices` tab&lt;br&gt;(when you have a lot of choices)

Example: "Year of birth" in [randomImagesDemo](https://docs.google.com/spreadsheets/d/1hs551J6PYJNxc4sftmJyUqj6XYGYFVnN_5faQBWY7cs/edit?usp=sharing)
]

---

class: center, middle

# Control the way things look in `class` column

# ([options here](https://formr.org/documentation#sample_survey_sheet))

---

class: center 

# Importing survey into formr 

### formr.org --&gt; Admin --&gt; Surveys --&gt; Create new survey

### (Make sure your Google Sheet is visible!)

&lt;center&gt;
&lt;img src="images/gsheetlink.png" width=600&gt;
&lt;/center&gt;

---

class: center 

# Make a run

## formr.org --&gt; Admin --&gt; Runs --&gt; Create new run

--

&lt;br&gt;

# Insert survey with <svg aria-hidden="true" role="img" viewBox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M384 32C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H384zM325.8 139.7C310.1 124.1 284.8 124.1 269.2 139.7L247.8 161.1L318.7 232.1L340.1 210.7C355.8 195 355.8 169.7 340.1 154.1L325.8 139.7zM111.5 303.8L96.48 363.1C95.11 369.4 96.71 375.2 100.7 379.2C104.7 383.1 110.4 384.7 115.9 383.4L176 368.3C181.6 366.9 186.8 364 190.9 359.9L296.1 254.7L225.1 183.8L119.9 288.1C115.8 293.1 112.9 298.2 111.5 303.8z"/></svg>

--

&lt;br&gt;

# Insert stop with <svg aria-hidden="true" role="img" viewBox="0 0 384 512" style="height:1em;width:0.75em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M384 128v255.1c0 35.35-28.65 64-64 64H64c-35.35 0-64-28.65-64-64V128c0-35.35 28.65-64 64-64H320C355.3 64 384 92.65 384 128z"/></svg>

---

class: center 

## Change order by adjusting numbers &amp; clicking "Reorder"

&lt;center&gt;
&lt;img src="images/order.png" width=500&gt;
&lt;/center&gt;

---

class: center, middle

# Make it "live" with the volume buttons

&lt;center&gt;
&lt;img src="images/publicness.png" width=1000&gt;
&lt;/center&gt;

---

class: center 

# Fine tune look &amp; feel in "Settings"

---

class: inverse

<div class="countdown" id="timer_632a1221" style="top:0;right:0;font-size:2em;" data-warnwhen="15">
<code class="countdown-time"><span class="countdown-digits minutes">15</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

## Think Pair Share

- Using your GW Google drive, create a new survey spreadsheet&lt;br&gt;(you may wish to copy-paste from [this one](https://docs.google.com/spreadsheets/d/13jSdlIDFRVsIHbiObgyZlPTGovIcB-xDQ0dkhL75fZQ/edit?usp=sharing))
- Name your sheet "`[netID]_practice`", replacing "`[netID]`" with your GW Net ID&lt;br&gt;(e.g. "`jph_practice`")
- Insert the content in your `practiceSurvey.Rmd` file into your Google Sheet. 
- Using the class formr account, import your Google Sheet as a survey in formr (use the same "`[netID]_practice`" name for your survey). 
- Create a run that includes your survey and a stop.
- Test it!

---

class: inverse, center

# .fancy[Break]

<div class="countdown" id="timer_632a117f" style="top:1;right:0;bottom:0;left:0;margin:5%;font-size:8em;" data-warnwhen="30">
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

---



class: inverse, middle

# Week 4: .fancy[Intro to formr]

### 1. Surveys in R
### 2. Surveys in formr

### BREAK

### 3. .orange[Conjoint survey components]

---

# 3 Parts

&lt;br&gt;

- ### **Part 1**: Intro
- ### **Part 2**: Conjoint questions
- ### **Part 3**: Other / demographic questions


---

# 3 Parts

&lt;br&gt;

- ### **Part 1**: Intro --&gt; .red[screen for target population]
- ### **Part 2**: Conjoint questions --&gt; .red[screen for random answers]
- ### **Part 3**: Other / demographic questions

---

# .center[Think of your survey as a _conversation_]

&lt;br&gt;

- Include "transition" pages (e.g. Great job! Now we'll ask you about...) 

---

class: middle, center, inverse

# **Part 1**: Intro

---

class: center

# Start with a welcome page

&lt;center&gt;
&lt;img src="images/1welcome page.png" width=800&gt;
&lt;/center&gt;

---

class: center, middle

.leftcol30[

# Consent form

]

.rightcol70[

&lt;center&gt;
&lt;img src="images/2consent.png" width=500&gt;
&lt;/center&gt;

]

---

class: center

## **Eligibility questions**: who is your target population?

### .red[_Filter out respondents here_]

&lt;center&gt;
&lt;img src="images/3filter.png" width=700&gt;
&lt;/center&gt;

---

class: middle, center, inverse

# **Part 2**: Conjoint questions

---

class: middle, center

# Education information

&lt;center&gt;
&lt;img src="images/5education1.png" width=700&gt;
&lt;/center&gt;

---

class: center

# Education information

.leftcol[

&lt;center&gt;
&lt;img src="images/5education2.png"&gt;
&lt;/center&gt;

]

.rightcol[

&lt;center&gt;
&lt;img src="images/5education3.png"&gt;
&lt;/center&gt;

]

---

## .center[Can be helpful to provide relative comparisons]

Weight: 

- 1/2 lbs (similar to 1 cup water)
- 8 lbs (similar to 1 gallon of milk)

---

class: center

# Conjoint intro

&lt;center&gt;
&lt;img src="images/6conjoint_intro1.png" width=800&gt;
&lt;/center&gt;

---

class: center

## Practice conjoint (also attention check)

### .red[_May also filter out respondents here_]

&lt;center&gt;
&lt;img src="images/7conjoint_practice.png" width=550&gt;
&lt;/center&gt;

---

class: center

# Transition to actual conjoint questions

&lt;center&gt;
&lt;img src="images/8conjoint_intro2.png" width=700&gt;
&lt;/center&gt;

---

class: middle 

.leftcol40[

# Conjoint questions

### .red[_May also filter out respondents at the end_]

(e.g. chose all same answers)

]

.rightcol60[

&lt;center&gt;
&lt;img src="images/9conjoint.png" width=600&gt;
&lt;/center&gt;

]

---

class: middle, center, inverse

# **Part 3**: Other / demographic questions

---

class: center

# Transition

&lt;center&gt;
&lt;img src="images/10wrap_up.png" width=700&gt;
&lt;/center&gt;

---

class: center

# Critical respondent information 

&lt;center&gt;
&lt;img src="images/4critical_info.png" width=900&gt;
&lt;/center&gt;

---

class: center
 
# Demographic / other questions
 
&lt;center&gt;
&lt;img src="images/11demo.png" width=500&gt;
&lt;/center&gt;

---

class: center

# Finale

&lt;center&gt;
&lt;img src="images/12end.png" width=900&gt;
&lt;/center&gt;

---

class: inverse, center, middle

# [Blog post on conjoint in formr](https://www.jhelvy.com/posts/2021-09-18-choice-based-conjoint-surveys-in-r-with-formr/)

--

# [Project survey plan](https://madd.seas.gwu.edu/2022-Fall/project/2-survey-plan.html)

--

# Sign up for meeting slot next week&lt;br&gt;(link in #project channel)
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
